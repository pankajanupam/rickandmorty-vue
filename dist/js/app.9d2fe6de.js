(function(e){function t(t){for(var a,c,i=t[0],l=t[1],o=t[2],d=0,f=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&f.push(n[c][0]),n[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,o||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],a=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var a={},n={app:0},s=[];function c(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=a,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(r,a,function(t){return e[t]}.bind(null,a));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/rickandmorty-vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var u=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},1297:function(e,t,r){"use strict";var a=r("ef0c"),n=r.n(a);n.a},"17f4":function(e,t,r){},2750:function(e,t,r){"use strict";var a=r("f422"),n=r.n(a);n.a},"28b0":function(e,t,r){"use strict";var a=r("9917"),n=r.n(a);n.a},"3d94":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t),r.d(t,"eventBus",(function(){return Pe}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=r("2c82"),s=r("522d"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],l=(r("5c0b"),r("2877")),o={},u=Object(l["a"])(o,c,i,!1,null,null,null),d=u.exports,f=r("9483");Object(f["a"])("".concat("/rickandmorty-vue/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var h=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("div",{staticClass:"grid-container fluid"},[r("vue-header",{attrs:{showCallout:e.showAlert}}),r("div",{staticClass:"grid-x grid-margin-x"},[r("div",{staticClass:"cell small-12 medium-3"},[r("filter-panel",{attrs:{filters:e.pageFilters,selectedFilters:e.filter,callbackfn:e.getSelectedFilter}})],1),r("div",{staticClass:"cell small-12 medium-9"},[r("div",{staticClass:"grid-x"},[r("div",{staticClass:"cell small-12 top-panel-container"},[r("top-panel",{attrs:{appliedfilters:e.filter,callbackfn:e.getSearchTerm}})],1),r("div",{staticClass:"cell small-12"},[r("characters-list",{attrs:{filter:e.filter,enablePreFetch:!1},on:{preFetchRead:e.switchSearchMode}})],1)])])])],1)])},g=[],v=(r("4de4"),r("5530")),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"grid-x grid-margin-x header"},[r("div",{staticClass:"cell small-24"},[r("h1",[e._v("Vuejs Traning assigment")]),e.showCallout?r("callout"):e._e()],1)])},b=[],y=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},k=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"callout small warning"},[r("h5",[e._v("You are seeing lite version, Fetching data for full version")]),r("p",[e._v(" More filters and sorting will be available once data fatched. Data prefetching required as API do not support sorting and loation based character search. ")])])}],_={},x=Object(l["a"])(_,y,k,!1,null,null,null),O=x.exports,w={name:"Header",props:{showCallout:{type:Boolean,default:!0}},components:{Callout:O}},j=w,F=(r("a323"),Object(l["a"])(j,m,b,!1,null,"9bb6fbfc",null)),C=F.exports,V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-panel"},e._l(e.filters,(function(t,a){return r("check-box-group",{key:a,attrs:{checkboxes:t.data,filterTitle:a,callbackfn:e.checkboxChangeHandler,type:t.type,checked:e.selectedFilters[a]}})})),1)},T=[],P=(r("c975"),r("a434"),r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("fieldset",{staticClass:"fieldset"},[r("legend",[e._v(e._s(e.filterTitle))]),r("div",{staticClass:"elem-group"},e._l(e.checkboxes,(function(t,a){return r("div",{key:a},["checkbox"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValues,expression:"selectedValues"}],attrs:{id:t,name:e.filterTitle,type:"checkbox"},domProps:{value:t,checked:Array.isArray(e.selectedValues)?e._i(e.selectedValues,t)>-1:e.selectedValues},on:{change:[function(r){var a=e.selectedValues,n=r.target,s=!!n.checked;if(Array.isArray(a)){var c=t,i=e._i(a,c);n.checked?i<0&&(e.selectedValues=a.concat([c])):i>-1&&(e.selectedValues=a.slice(0,i).concat(a.slice(i+1)))}else e.selectedValues=s},e.callbackfn]}}):"radio"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValues,expression:"selectedValues"}],attrs:{id:t,name:e.filterTitle,type:"radio"},domProps:{value:t,checked:e._q(e.selectedValues,t)},on:{change:[function(r){e.selectedValues=t},e.callbackfn]}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedValues,expression:"selectedValues"}],attrs:{id:t,name:e.filterTitle,type:e.type},domProps:{value:t,value:e.selectedValues},on:{change:e.callbackfn,input:function(t){t.target.composing||(e.selectedValues=t.target.value)}}}),r("label",{attrs:{for:t}},[e._v(e._s(t))])])})),0)])}),$=[],S={props:{type:{type:String,default:"checkbox"},filterTitle:{type:String,required:!0},checkboxes:{type:Array,required:!0},checked:[String,Array],callbackfn:{type:Function,required:!0}},data:function(){return{selectedValues:[]}},watch:{checked:function(e,t){this.selectedValues=this.checked}}},q=S,A=(r("2750"),Object(l["a"])(q,P,$,!1,null,"31967b8c",null)),E=A.exports,H={props:{selectedFilters:Object,callbackfn:{type:Function,required:!0},filters:{type:Object,required:!0}},components:{CheckBoxGroup:E},methods:{checkboxChangeHandler:function(e){var t=e.target,r=t.name,a=t.value,n=t.type,s=t.checked;this.selectedFilters[r]||(this.selectedFilters[r]=[]),"radio"===n?this.selectedFilters[r]=[a]:s?this.selectedFilters[r].push(a):this.selectedFilters[r].splice(this.selectedFilters[r].indexOf(a),1),this.callbackfn(this.selectedFilters)}}},M=H,N=(r("1297"),Object(l["a"])(M,V,T,!1,null,null,null)),B=N.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("tags",{attrs:{data:e.tags},on:{tagRemoved:e.refreshData}}),r("search-bar",{attrs:{callbackfn:e.searchChangeHandler}})],1)},Q=[],L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tag-wrapper"},[e._l(e.tags,(function(t,a){return e._l(t,(function(t){return r("span",{key:t+a,staticClass:"label secondary"},[e._v(" "+e._s(t)+" "),r("a",{attrs:{"data-key":a,"data-value":t},on:{click:function(t){return t.preventDefault(),e.removeTag(t)}}},[e._v("x")])])}))}))],2)},J=[],R={props:{data:{type:Object,required:!0}},data:function(){return{tags:{}}},methods:{removeTag:function(e){var t=e.target.dataset;this.tags[t.key].splice(this.tags[t.key].indexOf(t.value),1),this.$emit("tagRemoved",t)}},watch:{data:function(){this.tags=Object(v["a"])({},this.data)}}},G=R,I=(r("8261"),Object(l["a"])(G,L,J,!1,null,"4d574bf5",null)),K=I.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("input",{attrs:{type:"search",placeholder:"Type 3 or more char of name"},on:{input:e.changeHandler}})])},z=[],U={props:{callbackfn:{type:Function,required:!0}},methods:{changeHandler:function(e){e.target.value.length>2?this.callbackfn(e.target.value):this.callbackfn("")}}},W=U,X=Object(l["a"])(W,Y,z,!1,null,null,null),Z=X.exports,ee={props:{callbackfn:{type:Function,required:!0},appliedfilters:Object},components:{SearchBar:Z,Tags:K},watch:{appliedfilters:function(e,t){var r=JSON.parse(JSON.stringify(this.appliedfilters));delete r.name,this.tags=r}},data:function(){return{tags:{},searchTerm:""}},methods:{searchChangeHandler:function(e){this.searchTerm=e,this.callbackfn(e)},refreshData:function(e){this.appliedfilters[e.key].splice(this.appliedfilters[e.key].indexOf(e.value),1),this.callbackfn(this.searchTerm)}}},te=ee,re=Object(l["a"])(te,D,Q,!1,null,null,null),ae=re.exports,ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"characters-list grid-x grid-margin-x grid-margin-y"},[e._l(e.characters.results,(function(e,t){return r("div",{key:t,staticClass:"cell small-6 large-3"},[r("character-card",{attrs:{character:e}})],1)})),r("div",{staticClass:"cell small-12"},[e.loading?[e._v(" Loading... ")]:e.characters.info&&e.characters.info.next?[r("a",{attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.page=e.characters.info.next}}},[e._v("Load More")])]:e._e()],2)],2)},se=[],ce=(r("99af"),r("a623"),r("d81d"),r("b64b"),r("2909")),ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"card"},[r("img",{attrs:{src:e.character.image}}),r("div",{staticClass:"card-divider"},[r("h4",[e._v(e._s(e.character.name))])]),r("div",{staticClass:"card-section"},[r("ul",e._l(e.fieldlist,(function(t,a){return r("li",{key:t},[r("strong",[e._v(e._s(t))]),r("span",[e._v(e._s(e.character[a].name||e.character[a]))])])})),0)])])},le=[],oe={props:["character"],data:function(){return{fieldlist:{status:"status",species:"species",gender:"gender",origin:"origin",location:"last location"}}}},ue=oe,de=(r("28b0"),Object(l["a"])(ue,ie,le,!1,null,"37cde400",null)),fe=de.exports,he=r("8785"),pe=r("9530"),ge=r.n(pe);function ve(){var e=Object(he["a"])([" query ( $filter: FilterCharacter, $page: Int ) {\n    characters(page: $page, filter: $filter ) {\n      info {\n          count,\n          pages,\n          next,\n          prev\n      }\n      results { \n        name\n        image\n        status\n        species\n        gender\n        origin {\n          id\n          name\n        }\n        location {\n          id\n          name\n        }\n      }\n    }\n  }"]);return ve=function(){return e},e}var me=ge()(ve()),be={props:{filter:{type:Object,default:function(){return{}}},enablePreFetch:Boolean},data:function(){return{page:1,loading:0,characters:{},preFetch:{},preFetchPage:1,skipQuery:!1}},components:{CharacterCard:fe},watch:{filter:function(e,t){if(this.page=1,this.skipQuery){var r=[];this.preFetch.results.every((function(t){return Object.keys(e).every((function(r){return"string"===typeof e[r]&&t[r].toLowerCase().indexOf(e[r].toLowerCase())>-1||0===e[r].length||e[r].indexOf(t[r].name||t[r])>-1}))&&r.push(t),r.length<20})),this.characters.results=r}},skipQuery:function(e,t){if(console.log(e,t),e){var r={};this.preFetch.results.map((function(e){r[e.location.name]=!0})),this.$emit("preFetchRead",Object.keys(r))}}},methods:{},apollo:{characters:{query:me,loadingKey:"loading",variables:function(){var e=this,t={};return Object.keys(this.filter).map((function(r){e.filter[r]&&e.filter[r].length&&(t[r]=e.filter[r][0])})),console.log(this.page,t,this.filter),{filter:t,page:this.page}},update:function(e){console.log(e,"in update");try{return this.characters.results&&1!==e.characters.info.pages&&2!==e.characters.info.next&&(e.characters.results=[].concat(Object(ce["a"])(this.characters.results),Object(ce["a"])(e.characters.results))),e.characters}catch(t){return{results:[],info:{}}}},skip:function(){return this.skipQuery}},preFetch:{query:me,variables:function(){return{page:this.preFetchPage}},update:function(e){return e.characters.info.next?this.preFetchPage=e.characters.info.next:this.skipQuery=!0,this.preFetch.results&&1!==e.characters.info.pages&&2!==e.characters.info.next&&(e.characters.results=[].concat(Object(ce["a"])(this.preFetch.results),Object(ce["a"])(e.characters.results))),e.characters},skip:function(){return this.skipQuery}}}},ye=be,ke=Object(l["a"])(ye,ne,se,!1,null,null,null),_e=ke.exports,xe={name:"Home",data:function(){return{filter:{},showAlert:!0,pageFilters:{status:{type:"radio",data:["Alive","Dead","unknown"]},gender:{type:"radio",data:["Female","Male","Genderless","unknown"]}}}},components:{FilterPanel:B,TopPanel:ae,CharactersList:_e,VueHeader:C},methods:{getSearchTerm:function(e){this.filter=Object(v["a"])(Object(v["a"])({},this.filter),{name:e})},getSelectedFilter:function(e){this.filter=Object(v["a"])(Object(v["a"])({},this.filter),e)},switchSearchMode:function(e){this.pageFilters.status.type="checkbox",this.pageFilters.gender.type="checkbox",this.pageFilters.location={type:"checkbox",data:e},this.showAlert=!1}}},Oe=xe,we=(r("f9a2"),Object(l["a"])(Oe,p,g,!1,null,"25ce383a",null)),je=we.exports;a["a"].use(h["a"]);var Fe=[{path:"/",name:"Home",component:je}],Ce=new h["a"]({mode:"history",base:"/rickandmorty-vue/",routes:Fe}),Ve=Ce;a["a"].config.productionTip=!1;var Te=new n["a"]({uri:"https://rickandmortyapi.com/graphql"});a["a"].use(s["a"]);var Pe=new a["a"],$e=new s["a"]({defaultClient:Te});new a["a"]({router:Ve,render:function(e){return e(d)},apolloProvider:$e}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var a=r("9c0c"),n=r.n(a);n.a},8261:function(e,t,r){"use strict";var a=r("d38d"),n=r.n(a);n.a},9917:function(e,t,r){},"9c0c":function(e,t,r){},a323:function(e,t,r){"use strict";var a=r("3d94"),n=r.n(a);n.a},d38d:function(e,t,r){},ef0c:function(e,t,r){},f422:function(e,t,r){},f9a2:function(e,t,r){"use strict";var a=r("17f4"),n=r.n(a);n.a}});
//# sourceMappingURL=app.9d2fe6de.js.map